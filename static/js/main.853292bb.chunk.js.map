{"version":3,"sources":["components/Field/Field.jsx","components/Editor/Editor.jsx","components/InputJsonFile/InputJsonFile.jsx","components/containers/JsonEditor/JsonEditor.jsx","App.js","index.js"],"names":["Field","fieldKey","value","useState","key","valueField","setValueField","useEffect","console","log","className","classNames","item","item_key","item_value","contentEditable","suppressContentEditableWarning","onBlur","e","event","content","target","textContent","handleChange","getFiniteValue","obj","mas","getProp","o","prop","undefined","length","push","Editor","file","fileParse","setFileParse","Promise","resolve","reject","reader","FileReader","readAsText","onload","JSON","parse","result","then","editor","editor_menu","map","el","index","InputJsonFile","files","setFile","input_file","type","onChange","formData","FormData","append","fi","get","JsonEditor","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qUAmCeA,EA9BD,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MAAY,EAChBC,mBAASF,GADO,mBAC/BG,EAD+B,aAEFD,mBAASD,IAFP,mBAE/BG,EAF+B,KAEnBC,EAFmB,KAetC,OAJAC,qBAAU,WACTC,QAAQC,IAAIL,EAAK,OAAQC,KACvB,CAACA,IAGH,sBAAKK,UAAWC,IAAW,CAAEC,MAAM,IAAnC,UACC,sBAAKF,UAAWC,IAAW,CAAEE,UAAU,IAAvC,UAAiDT,EAAjD,OACA,qBACCM,UAAWC,IAAW,CAAEG,YAAY,IACpCC,iBAAiB,EACjBC,gCAAgC,EAChCC,OAAQ,SAACC,GAAD,OAlBU,SAACC,GACrB,IAAMC,EAAUD,EAAME,OAAOC,YAC7BhB,EAAcc,GAEdZ,QAAQC,IAAIL,EAAK,OAAQC,GAcRkB,CAAaL,IAC5BhB,MAAOG,EALR,SAOgB,IAAdA,EAAmB,MAAQA,QCtB1BmB,EAAiB,SAACC,GACvB,IAAIC,EAAM,GAeV,OAdgB,SAAVC,EAAWC,GAChB,IAAK,IAAIC,KAAQD,EACO,kBAAZA,EAAEC,SAEWC,IAAnBF,EAAEC,GAAME,QAAsBL,EAAIM,KAAK,CAACH,EAAM,OAClDrB,QAAQC,IAAI,QAASoB,GACrBF,EAAQC,EAAEC,KAGVH,EAAIM,KAAK,CAACH,EAAMD,EAAEC,KAIrBF,CAAQF,GACDC,GAyCOO,EAtCA,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAAW,EACM/B,qBADN,mBACrBgC,EADqB,KACVC,EADU,KAoB5B,OAjBA7B,qBAAU,WACI,IAAI8B,SAAQ,SAACC,EAASC,GAClC,IAAIC,EAAS,IAAIC,WAEjBD,EAAOE,WAAWR,GAElBM,EAAOG,OAAS,WACfL,EAAQM,KAAKC,MAAML,EAAOM,aAIzBC,MAAK,SAACD,GACRV,EAAaU,QAGZ,CAACZ,IAGH,sBAAKxB,UAAWC,IAAW,CAAEqC,QAAQ,IAArC,UACC,qBAAKtC,UAAWC,IAAW,CAAEsC,aAAa,IAASlC,gBAAgB,GAAnE,kBAICoB,GACAX,EAAeW,GAAWe,KAAI,SAACC,EAAIC,GAAL,OAC7B,cAAC,EAAD,CAECnD,SAAUkD,EAAG,GACbjD,MAAOiD,EAAG,IAHX,UACSA,EAAG,GADZ,YACkBA,EAAG,GADrB,cAC6BC,W,wBC3BnBC,EAxBO,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACZnD,qBADY,mBAC7B+B,EAD6B,KACvBqB,EADuB,KAkBpC,OAJAhD,qBAAU,WACT+C,EAAMpB,KACJ,CAACoB,EAAOpB,IAGV,qBAAKxB,UAAWC,IAAW,CAAE6C,YAAY,IAAzC,SACC,uBAAOC,KAAK,OAAOC,SAAU,SAACxC,GAAD,OAjBV,SAACC,GAErB,IAAIwC,EAAW,IAAIC,IACnBD,EAASE,OAAO,OAAQ1C,EAAME,OAAOiC,MAAM,IAC3C,IAAMQ,EAAKH,EAASI,IAAI,QAExBR,EAAQO,GAW6BvC,CAAaL,SCPrC8C,G,MAVI,WAAO,IAAD,EACA7D,qBADA,mBACjB+B,EADiB,KACXqB,EADW,KAExB,OACC,sBAAK7C,UAAWC,IAAW,CAAEqD,YAAY,IAAzC,UACC,cAAC,EAAD,CAAeV,MAAOC,IAErBrB,GAAQ,cAAC,EAAD,CAAQA,KAAMA,SCAX+B,MATf,WACC,OACC,sBAAKvD,UAAU,MAAf,UACC,6CACA,cAAC,EAAD,QCHHwD,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAEDC,SAASC,eAAe,W","file":"static/js/main.853292bb.chunk.js","sourcesContent":["import './Field.sass'\nimport React from 'react'\nimport { useState, useEffect } from 'react'\nimport classNames from 'classnames'\n\nconst Field = ({ fieldKey, value }) => {\n\tconst [key, setKey] = useState(fieldKey)\n\tconst [valueField, setValueField] = useState(value)\n\n\tconst handleChange = (event) => {\n\t\tconst content = event.target.textContent\n\t\tsetValueField(content)\n\n\t\tconsole.log(key, ' log', valueField)\n\t}\n\n\tuseEffect(() => {\n\t\tconsole.log(key, ' eff', valueField)\n\t}, [valueField])\n\n\treturn (\n\t\t<div className={classNames({ item: true })}>\n\t\t\t<div className={classNames({ item_key: true })}>{key}:</div>\n\t\t\t<div\n\t\t\t\tclassName={classNames({ item_value: true })}\n\t\t\t\tcontentEditable={true}\n\t\t\t\tsuppressContentEditableWarning={true}\n\t\t\t\tonBlur={(e) => handleChange(e)}\n\t\t\t\tvalue={valueField}\n\t\t\t>\n\t\t\t\t{valueField == '' ? \"' '\" : valueField}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\nexport default Field\n","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport classNames from 'classnames'\nimport './Editor.sass'\nimport Field from '../Field/Field.jsx'\n\n// TODO: contentEditable=\"true | false\" редактирование DIV элемента\n\nconst getFiniteValue = (obj) => {\n\tlet mas = []\n\tconst getProp = (o) => {\n\t\tfor (let prop in o) {\n\t\t\tif (typeof o[prop] === 'object') {\n\t\t\t\t// mas.push([Object.keys(o)[Object.keys(o).length - 1], null], [])\n\t\t\t\tif (o[prop].length !== undefined) mas.push([prop, null])\n\t\t\t\tconsole.log('prop ', prop)\n\t\t\t\tgetProp(o[prop])\n\t\t\t} else {\n\t\t\t\t// console.log('Finite value: ', o[prop])\n\t\t\t\tmas.push([prop, o[prop]])\n\t\t\t}\n\t\t}\n\t}\n\tgetProp(obj)\n\treturn mas\n}\n\nconst Editor = ({ file }) => {\n\tconst [fileParse, setFileParse] = useState()\n\n\tuseEffect(() => {\n\t\tconst prom = new Promise((resolve, reject) => {\n\t\t\tlet reader = new FileReader()\n\n\t\t\treader.readAsText(file)\n\n\t\t\treader.onload = function () {\n\t\t\t\tresolve(JSON.parse(reader.result))\n\t\t\t}\n\n\t\t\t// return JSON.parse(reader.result)\n\t\t}).then((result) => {\n\t\t\tsetFileParse(result)\n\t\t\t// console.log(fileParse)\n\t\t})\n\t}, [file])\n\n\treturn (\n\t\t<div className={classNames({ editor: true })}>\n\t\t\t<div className={classNames({ editor_menu: true })} contentEditable=\"\">\n\t\t\t\tMENU\n\t\t\t</div>\n\n\t\t\t{fileParse &&\n\t\t\t\tgetFiniteValue(fileParse).map((el, index) => (\n\t\t\t\t\t<Field\n\t\t\t\t\t\tkey={`${el[0]}:${el[1]} + ${index}`}\n\t\t\t\t\t\tfieldKey={el[0]}\n\t\t\t\t\t\tvalue={el[1]}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t</div>\n\t)\n}\n\nexport default Editor\n","import './InputJsonFile.sass'\nimport { useState, useEffect } from 'react'\nimport classNames from 'classnames'\nimport FormData from 'form-data'\n\nconst InputJsonFile = ({ files }) => {\n\tconst [file, setFile] = useState()\n\n\tconst handleChange = (event) => {\n\t\t// setFile(event.target.files[0])\n\t\tlet formData = new FormData()\n\t\tformData.append('file', event.target.files[0])\n\t\tconst fi = formData.get('file')\n\t\t// fileRead(fi)\n\t\tsetFile(fi)\n\n\t\t// setHaveJson(true)\n\t}\n\n\tuseEffect(() => {\n\t\tfiles(file)\n\t}, [files, file])\n\n\treturn (\n\t\t<div className={classNames({ input_file: true })}>\n\t\t\t<input type=\"file\" onChange={(e) => handleChange(e)} />\n\t\t</div>\n\t)\n}\nexport default InputJsonFile\n","import React from 'react'\nimport { useState } from 'react'\nimport './JsonEditor.sass'\nimport Editor from '../../Editor/Editor.jsx'\nimport InputJsonFile from '../../InputJsonFile/InputJsonFile.jsx'\n\nimport classNames from 'classnames'\n\nconst JsonEditor = () => {\n\tconst [file, setFile] = useState()\n\treturn (\n\t\t<div className={classNames({ JsonEditor: true })}>\n\t\t\t<InputJsonFile files={setFile} />\n\n\t\t\t{file && <Editor file={file} />}\n\t\t</div>\n\t)\n}\nexport default JsonEditor\n","import './App.sass'\nimport Editor from './components/Editor/Editor.jsx'\nimport InputJsonFile from './components/InputJsonFile/InputJsonFile.jsx'\nimport JsonEditor from './components/containers/JsonEditor/JsonEditor.jsx'\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<h1>JSON Editor</h1>\n\t\t\t<JsonEditor />\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.sass'\nimport App from './App.js'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}